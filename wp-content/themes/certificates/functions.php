<?php
/**
 * Функции шаблона (function.php)
 * @package WordPress
 * @subpackage your-clean-template-3
 */

add_theme_support('title-tag');

register_nav_menus(array(
	'top' => 'top',
	'bottom' => 'bottom'
));

add_theme_support('post-thumbnails'); // включаем поддержку миниатюр
set_post_thumbnail_size(250, 150); // задаем размер миниатюрам 250x150
add_image_size('big-thumb', 400, 400, true); // добавляем еще один размер картинкам 400x400 с обрезкой

register_sidebar(array( // регистрируем левую колонку, этот кусок можно повторять для добавления новых областей для виджитов
	'name' => 'Сайдбар', // Название в админке
	'id' => "sidebar", // идентификатор для вызова в шаблонах
	'description' => 'Обычная колонка в сайдбаре', // Описалово в админке
	'before_widget' => '<div id="%1$s" class="widget %2$s">', // разметка до вывода каждого виджета
	'after_widget' => "</div>\n", // разметка после вывода каждого виджета
	'before_title' => '<span class="widgettitle">', //  разметка до вывода заголовка виджета
	'after_title' => "</span>\n", //  разметка после вывода заголовка виджета
));

if (!class_exists('clean_comments_constructor')) { // если класс уже есть в дочерней теме - нам не надо его определять
	class clean_comments_constructor extends Walker_Comment { // класс, который собирает всю структуру комментов
		public function start_lvl( &$output, $depth = 0, $args = array()) { // что выводим перед дочерними комментариями
			$output .= '<ul class="children">' . "\n";
		}
		public function end_lvl( &$output, $depth = 0, $args = array()) { // что выводим после дочерних комментариев
			$output .= "</ul><!-- .children -->\n";
		}
	    protected function comment( $comment, $depth, $args ) { // разметка каждого комментария, без закрывающего </li>!
	    	$classes = implode(' ', get_comment_class()).($comment->comment_author_email == get_the_author_meta('email') ? ' author-comment' : ''); // берем стандартные классы комментария и если коммент пренадлежит автору поста добавляем класс author-comment
	        echo '<li id="comment-'.get_comment_ID().'" class="'.$classes.' media">'."\n"; // родительский тэг комментария с классами выше и уникальным якорным id
	    	echo '<div class="media-left">'.get_avatar($comment, 64, '', get_comment_author(), array('class' => 'media-object'))."</div>\n"; // покажем аватар с размером 64х64
	    	echo '<div class="media-body">';
	    	echo '<span class="meta media-heading">Автор: '.get_comment_author()."\n"; // имя автора коммента
	    	//echo ' '.get_comment_author_email(); // email автора коммента, плохой тон выводить почту
	    	echo ' '.get_comment_author_url(); // url автора коммента
	    	echo ' Добавлено '.get_comment_date('F j, Y в H:i')."\n"; // дата и время комментирования
	    	if ( '0' == $comment->comment_approved ) echo '<br><em class="comment-awaiting-moderation">Ваш комментарий будет опубликован после проверки модератором.</em>'."\n"; // если комментарий должен пройти проверку
	    	echo "</span>";
	        comment_text()."\n"; // текст коммента
	        $reply_link_args = array( // опции ссылки "ответить"
	        	'depth' => $depth, // текущая вложенность
	        	'reply_text' => 'Ответить', // текст
				'login_text' => 'Вы должны быть залогинены' // текст если юзер должен залогинеться
	        );
	        echo get_comment_reply_link(array_merge($args, $reply_link_args)); // выводим ссылку ответить
	        echo '</div>'."\n"; // закрываем див
	    }
	    public function end_el( &$output, $comment, $depth = 0, $args = array() ) { // конец каждого коммента
			$output .= "</li><!-- #comment-## -->\n";
		}
	}
}

if (!function_exists('pagination')) { // если ф-я уже есть в дочерней теме - нам не надо её определять
	function pagination() { // функция вывода пагинации
		global $wp_query; // текущая выборка должна быть глобальной
		$big = 999999999; // число для замены
		$links = paginate_links(array( // вывод пагинации с опциями ниже
			'base' => str_replace($big,'%#%',esc_url(get_pagenum_link($big))), // что заменяем в формате ниже
			'format' => '?paged=%#%', // формат, %#% будет заменено
			'current' => max(1, get_query_var('paged')), // текущая страница, 1, если $_GET['page'] не определено
			'type' => 'array', // нам надо получить массив
			'prev_text'    => 'Назад', // текст назад
	    	'next_text'    => 'Вперед', // текст вперед
			'total' => $wp_query->max_num_pages, // общие кол-во страниц в пагинации
			'show_all'     => false, // не показывать ссылки на все страницы, иначе end_size и mid_size будут проигнорированны
			'end_size'     => 15, //  сколько страниц показать в начале и конце списка (12 ... 4 ... 89)
			'mid_size'     => 15, // сколько страниц показать вокруг текущей страницы (... 123 5 678 ...).
			'add_args'     => false, // массив GET параметров для добавления в ссылку страницы
			'add_fragment' => '',	// строка для добавления в конец ссылки на страницу
			'before_page_number' => '', // строка перед цифрой
			'after_page_number' => '' // строка после цифры
		));
	 	if( is_array( $links ) ) { // если пагинация есть
		    echo '<div class="cases-nav">';
		    foreach ( $links as $link ) {
		    	if ( strpos( $link, 'current' ) !== false ) echo "<span class='cases-nav-item active'>$link</span>";
		        else echo "<span class='cases-nav-item'>$link</span>"; 
		    }
		   	echo '</div>';
		 }
	}
}

function wp_corenavi() {
	global $wp_query;
	$total = isset( $wp_query->max_num_pages ) ? $wp_query->max_num_pages : 1;
	$a['total'] = $total;
	$a['mid_size'] = 3; // сколько ссылок показывать слева и справа от текущей
	$a['end_size'] = 1; // сколько ссылок показывать в начале и в конце
	$a['prev_text'] = '&laquo;'; // текст ссылки "Предыдущая страница"
	$a['next_text'] = '&raquo;'; // текст ссылки "Следующая страница"
  
	if ( $total > 1 ) echo '<nav class="pagination">';
	echo paginate_links( $a );
	if ( $total > 1 ) echo '</nav>';
  }

add_action('wp_footer', 'add_scripts'); // приклеем ф-ю на добавление скриптов в футер
if (!function_exists('add_scripts')) { // если ф-я уже есть в дочерней теме - нам не надо её определять
	function add_scripts() { // добавление скриптов
	    if(is_admin()) return false; // если мы в админке - ничего не делаем
	    wp_deregister_script('jquery'); // выключаем стандартный jquery
	    wp_enqueue_script('jquery','https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js','','',true);
	    wp_enqueue_script('slick', 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js','','',true);
	    wp_enqueue_script('imask', 'https://unpkg.com/imask','','',true);
	    wp_enqueue_script('main', '/public/js/main.js','','',true);
	}
}

add_action('wp_print_styles', 'add_styles'); // приклеем ф-ю на добавление стилей в хедер
if (!function_exists('add_styles')) { // если ф-я уже есть в дочерней теме - нам не надо её определять
	function add_styles() { // добавление стилей
	    if(is_admin()) return false; // если мы в админке - ничего не делаем
	    wp_enqueue_style( 'animate', '/public/css/animate.css' );
	    wp_enqueue_style( 'slick', 'https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css' );
		wp_enqueue_style( 'main', '/public/css/common.css' );
	}
}

function admin_style() {
	wp_enqueue_style( 'main', '/public/css/common.css' );
	wp_enqueue_style( 'admin-styles', get_template_directory_uri() . '/css/admin.css' );
	wp_enqueue_script( 'admin-js', get_template_directory_uri().'/js/admin.js' );
}
add_action('admin_enqueue_scripts', 'admin_style');

add_action('acf/init', 'my_acf_init');
function my_acf_init() {
	
	// check function exists
	if( function_exists('acf_register_block') ) {
		
		acf_register_block(array(
			'name'				=> 'main-banner',
			'title'				=> __('Главный банер'),
			'description'		=> __('Банер главной страницы'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="16px" viewBox="0 0 24 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group 2</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group-2">
						<rect id="Rectangle" fill="#F4F4F4" x="0" y="0" width="24" height="16"></rect>
						<rect id="Rectangle" fill="#808080" x="3" y="3" width="12" height="3"></rect>
						<rect id="Rectangle" fill="#808080" x="3" y="7" width="18" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="3" y="10" width="7" height="2"></rect>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Сертификаты.бел'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'service',
			'title'				=> __('Услуги'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group 2</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group-2">
						<rect id="Rectangle" fill="#FFFFFF" x="0" y="0" width="24" height="24"></rect>
						<rect id="Rectangle" fill="#F4F4F4" x="0" y="0" width="14" height="20"></rect>
						<rect id="Rectangle" fill="#808080" x="2" y="3" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="3" y="4" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="5" y="7" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="6" y="8" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="5" y="11" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="6" y="12" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="5" y="15" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="6" y="16" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="14" y="7" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="19" y="7" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="14" y="9" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="19" y="9" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="14" y="11" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="19" y="11" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="14" y="13" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="19" y="13" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="14" y="15" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="19" y="15" width="4" height="1"></rect>
					</g>
				</g>
			</svg>',
			'example'           => []
		));
		acf_register_block(array(
			'name'				=> 'features',
			'title'				=> __('Преимущества'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>communication</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="communication" fill-rule="nonzero">
						<path d="M22.1841257,23.50632 L22.1841257,21.1723543 C22.1690057,20.7179657 21.9801943,20.2875086 21.6579086,19.9725943 C21.3355886,19.65768 20.9052343,19.4831314 20.4583886,19.4861486 L18.60888,19.48488 C18.6024,19.48488 18.59616,19.4822743 18.5915657,19.4775771 C18.5869714,19.4729143 18.5844,19.4665714 18.5844,19.4599543 L18.5844,18.9799886 C19.0291543,18.7109829 19.39128,18.3210171 19.63008,17.8540114 C19.84296,17.9150057 20.0706171,17.8921029 20.2676571,17.7899314 C20.4646971,17.6877257 20.6166857,17.51376 20.6932457,17.3026629 C20.76984,17.0915657 20.7654171,16.8588686 20.6808686,16.6509257 C20.5963543,16.4430171 20.4378857,16.27512 20.2371086,16.1807657 C20.3841943,15.7859314 20.4441943,15.3630514 20.4127886,14.9420229 C20.3813829,14.5209943 20.25936,14.1121371 20.0553943,13.7444229 C19.8513943,13.3766743 19.5704571,13.0590857 19.2324343,12.8141143 C18.8943771,12.5691771 18.5075657,12.4028229 18.0992914,12.32688 C17.6910514,12.2509371 17.2713943,12.2672571 16.8700457,12.3746743 C16.4686629,12.4820914 16.0954286,12.6779657 15.7767429,12.9484457 C15.4580914,13.2189257 15.2017714,13.5574286 15.0259543,13.9398857 C14.8501714,14.3223771 14.7591429,14.7395314 14.7594171,15.16176 C14.7593143,15.5122971 14.8226743,15.8598514 14.9464114,16.1870057 C14.74608,16.2814286 14.5880914,16.4491543 14.5038857,16.6567886 C14.41968,16.8643886 14.4153943,17.0966743 14.4919543,17.30736 C14.5685143,17.5180114 14.7202629,17.6916343 14.91696,17.7935657 C15.1136914,17.8955314 15.3409029,17.9183657 15.55344,17.8575086 C15.792,18.3228343 16.1532343,18.7113257 16.5966857,18.9794743 L16.5966857,19.4599543 C16.5966857,19.4632114 16.5960343,19.4664686 16.5948,19.4694857 C16.5935657,19.4725029 16.5917486,19.47528 16.5894857,19.4775771 C16.5872229,19.4799086 16.5845143,19.4817257 16.5815314,19.4829943 C16.5785829,19.4842286 16.5753943,19.48488 16.5721714,19.48488 L14.6582057,19.48488 C14.2188,19.4854286 13.7975657,19.6632343 13.4868343,19.9793486 C13.1761371,20.2954629 13.0013829,20.7240686 13.0008343,21.17112 L13.0008343,23.5001143 L12.0044229,23.5001143 L12.0044229,21.49224 C12.0044229,20.1361371 10.9570286,19.1891657 9.45696,19.1891657 L8.27283429,19.1891657 C8.26032,19.0542857 8.25565714,18.9246514 8.25394286,18.7967314 C8.57540571,18.4652914 8.81283429,18.0592457 8.94576,17.6136686 L9.11094857,17.6136686 C9.27466286,17.6134629 9.43162286,17.5471886 9.54740571,17.4294171 C9.66318857,17.3116114 9.72829714,17.1519429 9.72850286,16.9853486 L9.72850286,16.3789714 C9.72805714,16.22904 9.67488,16.0842514 9.57860571,15.9707314 C9.48233143,15.8572457 9.34926857,15.7825371 9.20355429,15.7601486 C9.83266286,14.1629486 8.93962286,13.2087429 8.90362286,13.1718514 C7.52317714,11.6417143 6.11283429,12.4737257 5.71361143,12.7659429 C5.66324571,12.8039314 5.60605714,12.8315657 5.54526857,12.8472343 C4.91225143,12.9968229 4.48950857,13.3154743 4.28907429,13.7946857 C4.00649143,14.46912 4.25694857,15.28368 4.46060571,15.7628914 C4.31948571,15.7901829 4.19211429,15.86664 4.10036571,15.9791314 C4.00865143,16.0915886 3.95828571,16.2330857 3.95797714,16.3792457 L3.95797714,16.9855886 C3.95818286,17.1522171 4.02332571,17.3119543 4.13914286,17.42976 C4.25499429,17.5475314 4.41202286,17.6137714 4.57577143,17.6139086 L4.79832,17.6139086 C4.92939429,18.0534514 5.16188571,18.4547314 5.47638857,18.7842857 C5.47909714,18.9161829 5.47638857,19.0513029 5.46658286,19.18944 L4.16530286,19.18944 C2.66526514,19.18944 1.61662971,20.1368914 1.61662971,21.49248 L1.61662971,23.5095771 C1.56115886,23.5196229 1.51090629,23.5491086 1.47456343,23.5929257 C1.43822057,23.6367429 1.41807429,23.6921143 1.41763543,23.74944 C1.41763543,23.8155429 1.443456,23.8789714 1.489416,23.9257371 C1.53537257,23.9725029 1.597704,23.9987829 1.66269943,23.9987829 L22.1591314,23.9987829 C22.2219771,23.99952 22.2826629,23.9754857 22.3284686,23.9317029 C22.3742743,23.88792 22.4016343,23.8277829 22.4048229,23.7639086 C22.4079771,23.7000343 22.38672,23.6373943 22.3454743,23.5891543 C22.3042629,23.54088 22.2462514,23.5107771 22.1836457,23.5050857 L22.1841257,23.50632 Z M9.11410286,16.2508457 C9.14712,16.2520457 9.17838857,16.2660686 9.20153143,16.2900686 C9.22464,16.3140343 9.23784,16.34616 9.23838857,16.3797257 L9.23838857,16.9861029 C9.23832,17.0204571 9.22484571,17.0534057 9.20098286,17.0777143 C9.17708571,17.1020229 9.14472,17.1157029 9.11094857,17.1157371 L9.06192,17.1157371 C9.10107429,16.88568 9.12092571,16.65264 9.12123429,16.41912 C9.12195429,16.3635086 9.11657143,16.3074171 9.11410286,16.2513257 L9.11410286,16.2508457 Z M8.30098286,19.6885714 L8.89872,19.6885714 L8.60022857,20.2647771 C8.57664,20.31024 8.56745143,20.3620114 8.57389714,20.41296 C8.58037714,20.4639429 8.60211429,20.5116343 8.63622857,20.54952 L8.89772571,20.8395086 L7.76478857,22.5818057 L8.30098286,19.6885714 Z M4.64269714,17.1157371 L4.57628571,17.1157371 C4.54248,17.1157029 4.51008,17.1020229 4.48614857,17.0777143 C4.46221714,17.05344 4.44874286,17.0204914 4.44860571,16.9861029 L4.44860571,16.3797257 C4.44874286,16.3453371 4.46221714,16.3124229 4.48614857,16.2881143 C4.51008,16.2638057 4.54248,16.2501257 4.57628571,16.2500914 L4.62380571,16.2500914 C4.62380571,16.3064229 4.62380571,16.3642629 4.62380571,16.41912 C4.62380571,16.55328 4.63189714,16.6836686 4.64365714,16.8120686 L4.64269714,17.1157371 Z M4.73581714,15.0635314 C4.62171429,14.7147086 4.62336,14.3374286 4.74048,13.9896686 C4.87820571,13.66104 5.17789714,13.4466171 5.65649143,13.3334057 C5.78022857,13.3032686 5.89686857,13.2484114 5.99958857,13.1720914 C6.40566857,12.8756571 7.46605714,12.3156686 8.54828571,13.5146743 C8.57766857,13.54584 9.17636571,14.2025829 8.8284,15.3512571 L8.74433143,15.1440343 C8.50758857,14.5179771 7.80792,14.4399429 7.47390857,14.4399429 C7.4004,14.4399429 7.3428,14.44392 7.31386286,14.4464229 C6.34220571,14.4105257 5.98268571,13.9228457 5.96921143,13.9041257 C5.94078857,13.8615429 5.90002286,13.8290057 5.85257143,13.8111429 C5.80512,13.7932457 5.75338286,13.7909143 5.70456,13.8043886 C5.13133714,13.9602171 4.86226286,14.5351886 4.73581714,15.0640114 L4.73581714,15.0635314 Z M5.11296,16.41912 C5.11296,16.1790171 5.11662857,15.9528686 5.12571429,15.7372114 C5.16198857,15.2634857 5.30214857,14.5673486 5.69965714,14.34096 C6.14420571,14.7406286 6.71976,14.9564229 7.31290286,14.9458286 C7.32418286,14.9458286 7.33594286,14.9458286 7.34694857,14.94432 C7.35798857,14.9428457 8.11302857,14.86656 8.28802286,15.32904 L8.60022857,16.0967314 C8.60544,16.1076 8.61150857,16.1180229 8.61836571,16.1278971 C8.62570286,16.2251314 8.63184,16.3224 8.63184,16.41936 C8.63184,17.8323429 7.87484571,18.8977029 6.87106286,18.8977029 C5.86728,18.8977029 5.11296,17.8325829 5.11296,16.4196343 L5.11296,16.41912 Z M5.40411429,19.6885714 L5.94006857,22.5808114 L4.80737143,20.83848 L5.06886857,20.5485257 C5.10298286,20.51064 5.12472,20.4629486 5.1312,20.4119657 C5.13764571,20.3609829 5.12845714,20.3092457 5.10486857,20.2637829 L4.80613714,19.6875771 L5.40411429,19.6885714 Z M2.10822171,23.5008343 L2.10822171,21.4929943 C2.10822171,20.2463314 3.14166514,19.6885714 4.16677714,19.6885714 L4.25304,19.6885714 L4.59099429,20.3430857 L4.31698286,20.6472686 C4.27988571,20.6881714 4.25732571,20.74056 4.25290286,20.7960343 C4.24844571,20.8515429 4.2624,20.9069486 4.29250286,20.95344 L5.9496,23.5018286 L2.10822171,23.5008343 Z M7.09577143,23.5008343 L6.60908571,23.5008343 L6.10645714,20.7873943 C6.60226286,20.8657714 7.10739429,20.8599429 7.60134857,20.7701829 L7.09577143,23.5008343 Z M6.00966857,20.2662857 L5.90770286,19.7150057 C5.93646857,19.5246857 5.95566857,19.3400914 5.96530286,19.1612571 C6.24305143,19.3153029 6.55433143,19.3960114 6.87068571,19.3960114 C7.18704,19.3960114 7.49832,19.3153029 7.77606857,19.1612571 C7.78652571,19.2904114 7.80106286,19.4222057 7.81968,19.5566743 C7.81968,19.5699086 7.81968,19.5833829 7.81968,19.5965829 L7.69913143,20.2466057 C7.14373714,20.37504 6.56787429,20.3819314 6.00966857,20.2668 L6.00966857,20.2662857 Z M11.5142743,23.5008343 L7.75501714,23.5008343 L9.41187429,20.9524457 C9.44197714,20.9059543 9.45589714,20.8505486 9.45147429,20.7950743 C9.44701714,20.7395657 9.42445714,20.6871771 9.38736,20.6462743 L9.11314286,20.3420914 L9.45205714,19.6885714 L9.456,19.6885714 C10.4798743,19.6885714 11.5133143,20.2465714 11.5133143,21.4929943 L11.5142743,23.5008343 Z M20.4591086,19.9852762 C20.7753943,19.9844914 21.07992,20.1072343 21.30984,20.3282057 C21.53976,20.5491771 21.67752,20.8515429 21.6947314,21.1728343 L21.6947314,23.49336 L20.97816,23.49336 L20.97816,21.9338057 C20.97816,21.8676686 20.9523429,21.80424 20.9064,21.7575086 C20.8604229,21.7107429 20.7980914,21.68448 20.7330857,21.68448 C20.6681143,21.68448 20.6057829,21.7107429 20.5598057,21.7575086 C20.5138629,21.80424 20.4880457,21.8676686 20.4880457,21.9338057 L20.4880457,23.49336 L18.4125943,23.49336 L18.1430057,21.68448 L18.1969371,21.46656 C18.2624229,21.5059543 18.3370286,21.5268686 18.4130743,21.5271429 C18.4270629,21.5271429 18.4414971,21.5271429 18.4559657,21.5251543 C18.5165143,21.5189486 18.5750743,21.4997143 18.6277371,21.4686514 C18.6804,21.4376229 18.7259314,21.39552 18.7613143,21.3451543 L19.7106857,19.9852762 L20.4591086,19.9852762 Z M18.6581486,19.98528 L19.1093143,19.98528 L18.4037829,20.9955771 L17.9175771,20.5368 L18.6581486,19.98528 Z M18.1057714,19.5601714 C18.1174971,19.6203771 18.1396457,19.6779429 18.1711886,19.7302286 L17.5423886,20.1989486 L17.0046857,19.7464114 C17.0409943,19.6896 17.0659886,19.6260686 17.0782286,19.5594171 C17.08464,19.5272571 17.0878286,19.4945143 17.08776,19.4617029 L17.08776,19.1874514 C17.41776,19.2774514 17.7652457,19.2774514 18.0952457,19.1874514 L18.0952457,19.4617029 C18.0952457,19.4946171 18.0985371,19.5274286 18.1050171,19.5596914 L18.1057714,19.5601714 Z M17.5330629,20.8549714 L17.78448,21.0922971 L17.70288,21.42144 L17.3725371,21.42144 L17.3046514,21.0706286 L17.5330629,20.8549714 Z M17.3818629,21.92184 L17.6827886,21.92184 L17.9178171,23.4926057 L17.1470743,23.4926057 L17.3818629,21.92184 Z M20.25792,16.9928229 C20.2573714,17.0471657 20.2459543,17.1008229 20.22432,17.1505371 C20.20272,17.2002171 20.1713829,17.2449257 20.1322629,17.28192 C20.0931086,17.31888 20.0469943,17.3473714 19.9966629,17.3656114 C19.9463657,17.3838514 19.8929143,17.3914629 19.8396,17.388 C19.9290514,17.1446057 19.9947086,16.8928114 20.0356457,16.6362857 C20.1017143,16.66848 20.1574971,16.7189829 20.1966857,16.7819314 C20.2358743,16.8449143 20.2568571,16.9178057 20.2572,16.9923429 L20.25792,16.9928229 Z M14.9400343,16.9928229 C14.9403086,16.9205486 14.96016,16.8497486 14.9973943,16.7881714 C15.0345943,16.7265943 15.0877714,16.67664 15.1510286,16.64376 C15.1925829,16.8977143 15.25824,17.1469714 15.3470743,17.388 C15.2945486,17.3900571 15.24216,17.3813486 15.1929943,17.3624571 C15.1438286,17.3435314 15.09888,17.3147657 15.0608229,17.2778743 C15.0227657,17.2409829 14.9923543,17.19672 14.9714057,17.1476914 C14.9504571,17.0986286 14.9393486,17.0458286 14.9388,16.9923429 L14.9400343,16.9928229 Z M15.4152343,14.8782514 C15.3583886,14.88168 15.3044914,14.9051314 15.2628,14.9445943 C15.3161829,14.3528571 15.5851543,13.8028114 16.0168457,13.40256 C16.4485371,13.0022743 17.0117486,12.7807543 17.5958057,12.7814384 C18.1798629,12.7821257 18.74256,13.0049829 19.17336,13.4062629 C19.6041257,13.8075429 19.8718629,14.3582057 19.9239086,14.95008 C19.91232,14.9364 19.8992229,14.9241257 19.8849257,14.9134286 C19.8559543,14.8959086 19.82376,14.8846286 19.7903314,14.8803429 C19.7569029,14.8760571 19.7229257,14.8788343 19.6905943,14.8885029 C18.0660686,15.3711771 17.4499886,14.2367314 17.4254743,14.1903771 C17.4048,14.1498857 17.3736,14.1159429 17.3352686,14.0922171 C17.2969371,14.0685257 17.2529486,14.0560114 17.2081029,14.0559771 C17.1632914,14.0559429 17.1193371,14.0684229 17.08104,14.0920114 C17.0427086,14.1156343 17.0114743,14.1494743 16.9907314,14.1898629 C16.7255657,14.7012343 15.76272,14.86008 15.414,14.8777714 L15.4152343,14.8782514 Z M15.5867657,15.9598629 C15.5867657,15.7584343 15.6026057,15.5573486 15.6340457,15.3584914 C15.9928457,15.3150857 16.7561829,15.1722171 17.2044343,14.7201943 C17.53944,15.1116343 18.28272,15.71328 19.5641486,15.4347771 C19.5882857,15.6087086 19.6004229,15.7841829 19.6004229,15.9598629 C19.6004229,17.5019657 18.7000457,18.7565829 17.5933371,18.7565829 C16.4866286,18.7565829 15.5852914,17.5007314 15.5852914,15.9593486 L15.5867657,15.9598629 Z M16.5211886,19.9862743 L17.1622629,20.5255886 L16.6721486,20.9881029 L16.0296,19.9870286 L16.5211886,19.9862743 Z M13.4924571,21.1728343 C13.4927657,20.8579886 13.6158514,20.5561371 13.8346629,20.3334857 C14.0535086,20.1108343 14.3502171,19.9856229 14.65968,19.98528 L15.4438971,19.98528 L16.3035771,21.3241714 C16.3641257,21.4183886 16.45824,21.48504 16.5661371,21.5100686 C16.674,21.5350629 16.7872114,21.5165486 16.8819086,21.4583314 L16.92432,21.678 L16.6532914,23.49336 L14.7001029,23.49336 L14.7001029,21.9338057 C14.7001029,21.8676686 14.6742857,21.80424 14.6283429,21.7575086 C14.5823657,21.7107429 14.5200343,21.68448 14.4550629,21.68448 C14.3900571,21.68448 14.3277257,21.7107429 14.2817829,21.7575086 C14.2358057,21.80424 14.2099886,21.8676686 14.2099886,21.9338057 L14.2099886,23.49336 L13.4934171,23.49336 L13.4924571,21.1728343 Z" id="Shape" fill="#333333"></path>
						<path d="M0.640601143,23.5013143 L0.245064,23.5013143 C0.180068914,23.5013143 0.117739543,23.5275771 0.0717812571,23.5743429 C0.0258227314,23.6211086 0,23.6845371 0,23.75064 C0,23.8167771 0.0258227314,23.8802057 0.0717812571,23.9269714 C0.117739543,23.9737029 0.180068914,24 0.245064,24 L0.640601143,24 C0.705596571,24 0.767924571,23.9737029 0.813884571,23.9269714 C0.859841143,23.8802057 0.885665143,23.8167771 0.885665143,23.75064 C0.885665143,23.6845371 0.859841143,23.6211086 0.813884571,23.5743429 C0.767924571,23.5275771 0.705596571,23.5013143 0.640601143,23.5013143 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M23.7550286,23.5013143 L23.1227314,23.5013143 C23.05776,23.5013143 22.9954286,23.5275771 22.9494514,23.5743429 C22.9035086,23.6211086 22.8776914,23.6845371 22.8776914,23.75064 C22.8776914,23.8167771 22.9035086,23.8802057 22.9494514,23.9269714 C22.9954286,23.9737029 23.05776,24 23.1227314,24 L23.7550286,24 C23.82,24 23.8823314,23.9737029 23.9283086,23.9269714 C23.9742514,23.8802057 24.0000686,23.8167771 24.0000686,23.75064 C24.0000686,23.6845371 23.9742514,23.6211086 23.9283086,23.5743429 C23.8823314,23.5275771 23.82,23.5013143 23.7550286,23.5013143 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M5.68213714,8.20968 L6.62098286,8.20968 L5.99115429,9.65578286 C5.96982857,9.70474286 5.96454857,9.75936 5.97610286,9.81157714 C5.98765714,9.86382857 6.01542857,9.91090286 6.05530286,9.94580571 C6.09517714,9.98074286 6.14506286,10.0016914 6.19755429,10.0055314 C6.25004571,10.0093714 6.30233143,9.99593143 6.34673143,9.9672 L9.05886857,8.21043429 L9.98496,8.21043429 L9.98496,8.81653714 C9.98537143,9.12610286 10.1064343,9.42288 10.3216457,9.64172571 C10.5368229,9.86060571 10.8285943,9.98365714 11.1328457,9.98389714 L16.11672,9.98389714 L18.8290971,11.7411771 C18.8734629,11.7699429 18.9257829,11.7833829 18.9782743,11.7795086 C19.0307657,11.7756686 19.0806171,11.75472 19.1205257,11.7197829 C19.1604,11.68488 19.1881714,11.6378057 19.1997257,11.5855886 C19.21128,11.5333371 19.206,11.47872 19.1846743,11.4297943 L18.55488,9.98365714 L19.4934514,9.98365714 C19.7977029,9.98338286 20.0894057,9.86033143 20.3045829,9.64148571 C20.51976,9.42260571 20.6407543,9.12582857 20.6410971,8.81629714 L20.6410971,7.14877714 C20.6410971,7.08264 20.61528,7.01924571 20.5693029,6.97248 C20.52336,6.92571429 20.4610286,6.89945143 20.3960229,6.89945143 C20.3310171,6.89945143 20.2686857,6.92571429 20.2227429,6.97248 C20.1767657,7.01924571 20.1509486,7.08264 20.1509486,7.14877714 L20.1509486,8.81629714 C20.1507086,8.99362286 20.0813486,9.16357714 19.9580914,9.28892571 C19.8348343,9.41430857 19.6677257,9.4848 19.4934514,9.48500571 L18.1781829,9.48500571 C18.1373486,9.48500571 18.0972,9.49536 18.0613029,9.51517714 C18.0254057,9.53499429 17.99496,9.56362286 17.9727086,9.59845714 C17.9504571,9.63325714 17.93712,9.6732 17.9338629,9.71461714 C17.93064,9.75603429 17.9376343,9.79758857 17.9541943,9.83557714 L18.4078286,10.8767657 L16.3198629,9.52416 C16.2805714,9.49861714 16.2349029,9.48504 16.1882743,9.48500571 L11.13408,9.48500571 C10.9597714,9.48486857 10.7925943,9.41437714 10.6693029,9.28902857 C10.5459771,9.16368 10.4765829,8.99365714 10.4763086,8.81629714 L10.4763086,2.94533143 C10.4762057,2.76755314 10.54536,2.59698171 10.6686514,2.47101943 C10.7919771,2.34505371 10.95936,2.27398629 11.13408,2.27339314 L19.4932114,2.27339314 C19.6679314,2.27398629 19.8352457,2.345064 19.9585371,2.47103314 C20.0817943,2.59700571 20.1509143,2.76757714 20.1507086,2.94533143 L20.1507086,5.50296 C20.1507086,5.56909714 20.1765257,5.63249143 20.2225029,5.67925714 C20.2684457,5.72602286 20.3307771,5.75228571 20.3957829,5.75228571 C20.4607886,5.75228571 20.52312,5.72602286 20.5690629,5.67925714 C20.6150057,5.63249143 20.6408571,5.56909714 20.6408571,5.50296 L20.6408571,2.94533143 C20.6409257,2.63536457 20.5201029,2.338032 20.30496,2.11857257 C20.0898171,1.89911314 19.7978743,1.77545829 19.4932114,1.77473143 L15.1903886,1.77473143 L15.1903886,1.17185143 C15.1903886,0.861792 15.0696,0.564366857 14.8544914,0.344722286 C14.6393829,0.125080114 14.3474743,0.001121496 14.0427429,0 L5.68213714,0 C5.37737143,0.001121496 5.08546286,0.125080114 4.87038857,0.344722286 C4.65528,0.564366857 4.53449143,0.861792 4.53449143,1.17185143 L4.53449143,3.72922286 C4.53449143,3.79536 4.56030857,3.85875429 4.60625143,3.90552 C4.65222857,3.95228571 4.71456,3.97854857 4.77956571,3.97854857 C4.84453714,3.97854857 4.90690286,3.95228571 4.95284571,3.90552 C4.99882286,3.85875429 5.02460571,3.79536 5.02460571,3.72922286 L5.02460571,1.17185143 C5.02416,0.993905143 5.09314286,0.823045714 5.21643429,0.696819429 C5.33972571,0.570593143 5.50724571,0.49932 5.68213714,0.498658286 L14.0427429,0.498658286 C14.2176343,0.49932 14.38512,0.570593143 14.5084114,0.696819429 C14.6317029,0.823045714 14.70072,0.993905143 14.70024,1.17185143 L14.70024,1.77473143 L11.13408,1.77473143 C11.0173714,1.77640457 10.9016229,1.79650286 10.7909829,1.83431657 L6.90548571,1.83431657 C6.84051429,1.83431657 6.77814857,1.86058971 6.73220571,1.90734857 C6.68622857,1.95410743 6.66044571,2.01752229 6.66044571,2.08364914 C6.66044571,2.14977257 6.68622857,2.21319771 6.73220571,2.25995314 C6.77814857,2.306712 6.84051429,2.33297829 6.90548571,2.33297829 L10.15896,2.33297829 C10.0460229,2.516616 9.98574857,2.72870743 9.98496,2.94533143 L9.98496,3.85662857 L6.86996571,3.85662857 C6.80496,3.85662857 6.74262857,3.88289143 6.69668571,3.92965714 C6.65070857,3.97642286 6.62489143,4.03981714 6.62489143,4.10595429 C6.62489143,4.17209143 6.65070857,4.23552 6.69668571,4.28225143 C6.74262857,4.32901714 6.80496,4.35528 6.86996571,4.35528 L9.98448,4.35528 L9.98448,5.91658286 C9.94803429,5.89337143 9.90613714,5.88054857 9.86317714,5.87945143 L6.90548571,5.87945143 C6.84051429,5.87945143 6.77814857,5.90571429 6.73220571,5.95248 C6.68622857,5.99924571 6.66044571,6.06264 6.66044571,6.12877714 C6.66044571,6.19491429 6.68622857,6.25830857 6.73220571,6.30507429 C6.77814857,6.35184 6.84051429,6.37810286 6.90548571,6.37810286 L9.86365714,6.37810286 C9.90665143,6.37693714 9.94854857,6.36401143 9.98496,6.34069714 L9.98496,7.71202286 L8.98755429,7.71202286 C8.94096,7.71205714 8.89532571,7.72556571 8.85596571,7.75090286 L6.768,9.10326857 L7.22163429,8.06232 C7.23788571,8.02443429 7.24460571,7.98301714 7.24124571,7.94180571 C7.23785143,7.90062857 7.22444571,7.86092571 7.20222857,7.82629714 C7.18001143,7.79166857 7.14966857,7.76321143 7.11394286,7.74349714 C7.07825143,7.72374857 7.03827429,7.71336 6.99764571,7.71325714 L5.68213714,7.71325714 C5.50782857,7.71301714 5.34075429,7.64242286 5.21749714,7.51704 C5.09424,7.39165714 5.02488,7.22163429 5.02460571,7.04430857 L5.02460571,5.37678857 C5.02460571,5.31068571 4.99882286,5.24725714 4.95284571,5.20049143 C4.90690286,5.15372571 4.84453714,5.12746286 4.77956571,5.12746286 C4.71456,5.12746286 4.65222857,5.15372571 4.60625143,5.20049143 C4.56030857,5.24725714 4.53449143,5.31068571 4.53449143,5.37678857 L4.53449143,7.04430857 C4.53531429,7.35349714 4.65658286,7.64976 4.87169143,7.86819429 C5.0868,8.08662857 5.37822857,8.20940571 5.68213714,8.20968 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M12.3538971,4.10650286 L18.2702057,4.10650286 C18.3352114,4.10650286 18.3975429,4.08020571 18.44352,4.03344 C18.4894629,3.98670857 18.51528,3.92328 18.51528,3.85714286 C18.51528,3.79104 18.4894629,3.72761143 18.44352,3.68084571 C18.3975429,3.63408 18.3352114,3.60781714 18.2702057,3.60781714 L12.3538971,3.60781714 C12.2888914,3.60781714 12.22656,3.63408 12.1805829,3.68084571 C12.13464,3.72761143 12.1088229,3.79104 12.1088229,3.85714286 C12.1088229,3.92328 12.13464,3.98670857 12.1805829,4.03344 C12.22656,4.08020571 12.2888914,4.10650286 12.3538971,4.10650286 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M18.3052457,5.6304 L12.3538971,5.6304 C12.2888914,5.6304 12.22656,5.65666286 12.1805829,5.70342857 C12.13464,5.75019429 12.1088229,5.81358857 12.1088229,5.87972571 C12.1088229,5.94586286 12.13464,6.00925714 12.1805829,6.05602286 C12.22656,6.10278857 12.2888914,6.12905143 12.3538971,6.12905143 L18.3052457,6.12905143 C18.3702514,6.12905143 18.4325829,6.10278857 18.4785257,6.05602286 C18.5245029,6.00925714 18.55032,5.94586286 18.55032,5.87972571 C18.55032,5.81358857 18.5245029,5.75019429 18.4785257,5.70342857 C18.4325829,5.65666286 18.3702514,5.6304 18.3052457,5.6304 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M18.2705143,7.65216 L15.3123771,7.65216 C15.2473714,7.65216 15.18504,7.67845714 15.1390971,7.72518857 C15.09312,7.77195429 15.0673029,7.83538286 15.0673029,7.90152 C15.0673029,7.96762286 15.09312,8.03105143 15.1390971,8.07781714 C15.18504,8.12454857 15.2473714,8.15084571 15.3123771,8.15084571 L18.2705143,8.15084571 C18.33552,8.15084571 18.3978514,8.12454857 18.4438286,8.07781714 C18.4897714,8.03105143 18.5155886,7.96762286 18.5155886,7.90152 C18.5155886,7.83538286 18.4897714,7.77195429 18.4438286,7.72518857 C18.3978514,7.67845714 18.33552,7.65216 18.2705143,7.65216 Z" id="Path" fill="#FFDB2D"></path>
						<path d="M16.8528686,16.2453257 C16.8528686,16.1792229 16.8270171,16.1157943 16.7810743,16.0690286 C16.7350971,16.0222629 16.6727657,15.996 16.6077943,15.996 C16.5427886,15.996 16.4804571,16.0222629 16.43448,16.0690286 C16.3885371,16.1157943 16.36272,16.1792229 16.36272,16.2453257 L16.36272,16.5782057 C16.36272,16.6443086 16.3885371,16.7077371 16.43448,16.7545029 C16.4804571,16.8012343 16.5427886,16.8275314 16.6077943,16.8275314 C16.6727657,16.8275314 16.7350971,16.8012343 16.7810743,16.7545029 C16.8270171,16.7077371 16.8528686,16.6443086 16.8528686,16.5782057 L16.8528686,16.2453257 Z" id="Path" fill="#333333"></path>
						<path d="M18.5762057,16.8275314 C18.6412114,16.8275314 18.7035429,16.8012686 18.7494857,16.7545029 C18.7954286,16.7077371 18.82128,16.6443429 18.82128,16.5782057 L18.82128,16.2463543 C18.82128,16.1802171 18.7954286,16.1167886 18.7494857,16.0700229 C18.7035429,16.0232914 18.6412114,15.9970286 18.5762057,15.9970286 C18.5112,15.9970286 18.4488686,16.0232914 18.4028914,16.0700229 C18.3569486,16.1167886 18.3311314,16.1802171 18.3311314,16.2463543 L18.3311314,16.5782057 C18.3311314,16.6443429 18.3569486,16.7077371 18.4028914,16.7545029 C18.4488686,16.8012686 18.5112,16.8275314 18.5762057,16.8275314 Z" id="Path" fill="#333333"></path>
						<path d="M17.5972114,17.9964 C17.7262286,17.9897486 17.8526057,17.9566286 17.9687314,17.8989943 C18.0848571,17.84136 18.1882971,17.7604114 18.2728457,17.6610514 C18.2972229,17.6381486 18.3167657,17.6104457 18.3303086,17.5796229 C18.3438514,17.5488 18.3510857,17.5154743 18.3516,17.4817371 C18.3521143,17.4479657 18.3458743,17.4144686 18.3332914,17.3832343 C18.3207086,17.352 18.3019886,17.3237143 18.2783314,17.3000571 C18.25464,17.2764 18.2264914,17.2578514 18.1956,17.2456114 C18.1646743,17.2333371 18.1316229,17.2275771 18.0984686,17.2287086 C18.0653143,17.22984 18.0327086,17.2377943 18.00264,17.2520914 C17.9726057,17.2664229 17.9457257,17.2867886 17.9236457,17.3119886 C17.8420457,17.4150171 17.7243086,17.4818057 17.5952571,17.4982286 C17.46408,17.48184 17.3441486,17.4146057 17.2604914,17.31048 C17.2378971,17.2866857 17.2108457,17.2676914 17.1809486,17.2545943 C17.1510514,17.2415314 17.1188914,17.2346743 17.0863543,17.2343657 C17.0538171,17.2340914 17.0215543,17.2404 16.9914514,17.2529486 C16.9613143,17.2654629 16.9339543,17.2839771 16.9109486,17.3073943 C16.8879429,17.3308114 16.8697371,17.3586514 16.8574286,17.3893029 C16.8450857,17.41992 16.8389143,17.4527657 16.8391798,17.4858514 C16.8394629,17.5189714 16.8462171,17.55168 16.8590743,17.5820914 C16.8718971,17.6125371 16.8905829,17.6400343 16.914,17.66304 C16.99968,17.7623314 17.1041486,17.84304 17.2211314,17.9004 C17.3381486,17.95776 17.46528,17.9905714 17.5950171,17.99688 L17.5972114,17.9964 Z" id="Path" fill="#333333"></path>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Преимущества'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'team',
			'title'				=> __('Команда'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon' 				=> 'groups'
		));
		acf_register_block(array(
			'name'				=> 'documents',
			'title'				=> __('Норм док'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group 2</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group-2">
						<rect id="Rectangle" fill="#333333" x="0" y="0" width="24" height="24"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="1" y="7" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="17" y="13" width="6" height="4"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="2" y="8" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="9" y="7" width="6" height="10" rx="1"></rect>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Нормативная документация'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'blog',
			'title'				=> __('Блог'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group 2</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group-2">
						<rect id="Rectangle" fill="#F4F4F4" x="0" y="0" width="24" height="24"></rect>
						<rect id="Rectangle" fill="#333333" x="1" y="3" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="2" y="4" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="2" y="19" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFDA2E" x="5" y="20" width="4" height="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="10" y="3" width="6" height="7" rx="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="17" y="3" width="6" height="7" rx="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="17" y="11" width="6" height="7" rx="1"></rect>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Блог'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'faq',
			'title'				=> __('FAQ'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group 2</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group-2">
						<rect id="Rectangle" fill="#AAAAAA" x="0" y="0" width="24" height="24"></rect>
						<rect id="Rectangle" fill="#333333" x="12" y="0" width="12" height="24"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="3" y="8" width="18" height="14" rx="2"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="14" y="2" width="6" height="1"></rect>
						<rect id="Rectangle" fill="#FFFFFF" x="14" y="4" width="6" height="2"></rect>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Часто задаваемые вопросы'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'intro-header',
			'title'				=> __('Доп заголовок'),
			'description'		=> __('Дополнительный заголовок серого цвета'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg viewBox="0 0 24 9" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group" fill="#808080">
						<rect id="Rectangle" x="0" y="0" width="24" height="4"></rect>
						<rect id="Rectangle" x="0" y="5" width="18" height="4"></rect>
					</g>
				</g>
			</svg>',
			'example'           => array(
                'attributes'    => array(
                    'mode'      => 'preview',
                    'data'      => array(
                        'title' => 'Молодость всё простит — тысячи глупых обид.<br> Ты попал под наш бит, ты попал под наш бит.'
                    )
                )
            )
		));
		acf_register_block(array(
			'name'				=> 'main-subtitle',
			'title'				=> __('H3'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="24px" height="5px" viewBox="0 0 24 5" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>Group</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="Group">
						<rect id="Rectangle" fill="#FFDA2E" x="4" y="4" width="20" height="1"></rect>
						<rect id="Rectangle" fill="#808080" x="0" y="0" width="18" height="3"></rect>
					</g>
				</g>
			</svg>',
			'example'           => []
		));
		acf_register_block(array(
			'name'				=> 'link-pdf',
			'title'				=> __('Ссылка PDF'),
			'render_callback'	=> 'my_acf_block_render_callback',
			'category'			=> 'common',
			'icon'				=> '<svg width="20px" height="24px" viewBox="0 0 20 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
				<title>pdf</title>
				<g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
					<g id="pdf" fill="#333333" fill-rule="nonzero">
						<path d="M16.8620903,21.5931871 C16.6679226,21.5931871 16.510529,21.7505806 16.510529,21.9447484 L16.510529,22.9466323 C16.510529,23.1397935 16.3533677,23.2969548 16.160129,23.2969548 L1.15780645,23.2969548 C0.964629677,23.2969548 0.807460645,23.1397935 0.807460645,22.9466323 L0.807460645,4.59223742 C0.807460645,4.39808516 0.650053161,4.24067613 0.455897032,4.24067613 C0.261740903,4.24067613 0.104334968,4.39808516 0.104334968,4.59223742 L0.104334968,22.9466323 C0.104334968,23.5275097 0.576881806,24.0000774 1.15780645,24.0000774 L16.1602065,24.0000774 C16.7410839,24.0000774 17.213729,23.5275097 17.213729,22.9466323 L17.213729,21.9447484 C17.213729,21.7505806 17.0562581,21.5931871 16.8620903,21.5931871 Z" id="Path"></path>
						<path d="M0.455897032,3.30698323 C0.650053161,3.30698323 0.807460645,3.14957419 0.807460645,2.95542194 L0.807460645,1.05346839 C0.807460645,0.860299355 0.964629677,0.703124903 1.15780645,0.703124903 L12.713729,0.703124903 L12.713729,4.14778065 C12.713729,4.34194065 12.8710452,4.49934194 13.0652129,4.49934194 L16.5106065,4.4999071 L16.5106065,11.6712774 C16.5106065,11.8654452 16.668,12.0228387 16.8621677,12.0228387 C17.0563355,12.0228387 17.213729,11.8654452 17.213729,11.6712774 L17.213729,4.14843871 C17.213729,4.05520258 17.1766452,3.96576774 17.1107613,3.89986065 L13.3138839,0.102984 C13.2479226,0.0370312258 13.1585806,0 13.0652903,0 L1.1578529,0 C0.576928258,0 0.104334968,0.472594065 0.104334968,1.05346839 L0.104334968,2.95542194 C0.104334968,3.14957419 0.261740903,3.30698323 0.455897032,3.30698323 Z M13.4168516,1.20027871 L16.0132645,3.79673806 L13.4168516,3.79631226 L13.4168516,1.20027871 Z" id="Shape"></path>
						<path d="M18.8989161,12.6997161 L4.46257548,12.6997161 C4.26841548,12.6997161 4.11101419,12.8571097 4.11101419,13.0512774 L4.11101419,20.5512774 C4.11101419,20.7454452 4.26841548,20.9028387 4.46257548,20.9028387 L7.21005677,20.9028387 C7.40421677,20.9028387 7.56162581,20.7454452 7.56162581,20.5512774 C7.56162581,20.3571097 7.40421677,20.1997161 7.21005677,20.1997161 L4.81413677,20.1997161 L4.81413677,13.4028387 L18.5473548,13.4028387 L18.5473548,20.1997161 L8.83889032,20.1997161 C8.64472258,20.1997161 8.48732903,20.3571097 8.48732903,20.5512774 C8.48732903,20.7454452 8.64472258,20.9028387 8.83889032,20.9028387 L18.8988387,20.9028387 C19.0930065,20.9028387 19.2504,20.7454452 19.2504,20.5512774 L19.2504,13.0512774 C19.2504,12.8571097 19.0930839,12.6997161 18.8989161,12.6997161 Z" id="Path"></path>
						<path d="M12.8729806,6.16254968 L4.46257548,6.16254968 C4.26841548,6.16254968 4.11101419,6.31995871 4.11101419,6.51411097 C4.11101419,6.70827097 4.26841548,6.86567226 4.46257548,6.86567226 L12.8729806,6.86567226 C13.0671484,6.86567226 13.2245419,6.70827097 13.2245419,6.51411097 C13.2245419,6.31995871 13.0671484,6.16254968 12.8729806,6.16254968 Z" id="Path"></path>
						<path d="M12.8729806,8.23579355 L4.46257548,8.23579355 C4.26841548,8.23579355 4.11101419,8.39326452 4.11101419,8.58735484 C4.11101419,8.78152258 4.26841548,8.93891613 4.46257548,8.93891613 L12.8729806,8.93891613 C13.0671484,8.93891613 13.2245419,8.78152258 13.2245419,8.58735484 C13.2245419,8.39326452 13.0671484,8.23579355 12.8729806,8.23579355 Z" id="Path"></path>
						<path d="M12.8729806,10.3506581 L11.2114065,10.3506581 C11.0173161,10.3506581 10.8598452,10.5080516 10.8598452,10.7022194 C10.8598452,10.8963871 11.0173161,11.0537806 11.2114065,11.0537806 L12.8729806,11.0537806 C13.0671484,11.0537806 13.2246194,10.8963871 13.2246194,10.7022194 C13.2246194,10.5080516 13.0671484,10.3506581 12.8729806,10.3506581 Z" id="Path"></path>
						<path d="M4.46257548,10.3506581 C4.26841548,10.3506581 4.11101419,10.5080516 4.11101419,10.7022194 C4.11101419,10.8963871 4.26841548,11.0537806 4.46257548,11.0537806 L9.5568,11.0537806 C9.75096774,11.0537806 9.90836129,10.8963871 9.90836129,10.7022194 C9.90836129,10.5080516 9.75096774,10.3506581 9.5568,10.3506581 L4.46257548,10.3506581 Z" id="Path"></path>
						<path d="M9.41125161,16.0321548 L9.41125161,15.3894194 C9.41125161,14.7712258 8.90833548,14.2683097 8.29014194,14.2683097 L6.80141419,14.2683097 C6.60725419,14.2683097 6.44984516,14.4257032 6.44984516,14.619871 L6.44984516,18.9836129 C6.44984516,19.1777806 6.60725419,19.3351742 6.80141419,19.3351742 C6.99556645,19.3351742 7.15297548,19.1777806 7.15297548,18.9836129 L7.15297548,17.1533419 L8.29014194,17.1533419 C8.90825806,17.1532645 9.41125161,16.6503484 9.41125161,16.0321548 Z M8.70812903,16.0321548 C8.70812903,16.2626323 8.52061935,16.4501419 8.29014194,16.4501419 L7.15297548,16.4501419 L7.15297548,14.9714323 L8.29014194,14.9714323 C8.52061935,14.9714323 8.70812903,15.1589419 8.70812903,15.3894194 L8.70812903,16.0321548 Z" id="Shape"></path>
						<path d="M16.6556903,14.9712774 C16.8498581,14.9712774 17.0072516,14.8138839 17.0072516,14.6197161 C17.0072516,14.4255484 16.8498581,14.2681548 16.6556903,14.2681548 L14.3974452,14.2681548 C14.2032774,14.2681548 14.0458839,14.4255484 14.0458839,14.6197161 L14.0458839,18.9834581 C14.0458839,19.1776258 14.2032774,19.3350194 14.3974452,19.3350194 C14.5916129,19.3350194 14.7490065,19.1776258 14.7490065,18.9834581 L14.7490065,17.1531871 L16.6556903,17.1531871 C16.8498581,17.1531871 17.0072516,16.9957161 17.0072516,16.8016258 C17.0072516,16.6074581 16.8498581,16.4500645 16.6556903,16.4500645 L14.7490065,16.4500645 L14.7490065,14.9712774 L16.6556903,14.9712774 L16.6556903,14.9712774 Z" id="Path"></path>
						<path d="M12.0401032,19.3351742 C12.6582968,19.3351742 13.1612129,18.8322581 13.1612129,18.2140645 L13.1612129,15.3894194 C13.1612129,14.7712258 12.6582968,14.2683097 12.0401032,14.2683097 L10.5514065,14.2683097 C10.3572387,14.2683097 10.1998452,14.4257032 10.1998452,14.619871 L10.1998452,18.9836129 C10.1998452,19.1777806 10.3572387,19.3351742 10.5514065,19.3351742 L12.0401032,19.3351742 L12.0401032,19.3351742 Z M10.9029677,14.9714323 L12.0401032,14.9714323 C12.2705806,14.9714323 12.4580903,15.1589419 12.4580903,15.3894194 L12.4580903,18.2139871 C12.4580903,18.4444645 12.2705806,18.6319742 12.0401032,18.6319742 L10.9029677,18.6319742 L10.9029677,14.9714323 Z" id="Shape"></path>
					</g>
				</g>
			</svg>',
			'example'           => []
		));
	}
}

function my_acf_block_render_callback( $block ) {
	// convert name ("acf/testimonial") into path friendly slug ("testimonial")
	$slug = str_replace('acf/', '', $block['name']);
	// include a template part from within the "template-parts/block" folder
	if( file_exists( get_theme_file_path("/templates/block/{$slug}.php") ) ) {
		include( get_theme_file_path("/templates/block/{$slug}.php") );
	}
}

if (!class_exists('bootstrap_menu')) {
	class bootstrap_menu extends Walker_Nav_Menu { // внутри вывод 
		private $open_submenu_on_hover; // параметр который будет определять раскрывать субменю при наведении или оставить по клику как в стандартном бутстрапе

		function __construct($open_submenu_on_hover = true) { // в конструкторе
	        $this->open_submenu_on_hover = $open_submenu_on_hover; // запишем параметр раскрывания субменю
	    }

		function start_lvl(&$output, $depth = 0, $args = array()) { // старт вывода подменюшек
			$output .= "\n<ul class=\"dropdown-menu\">\n"; // ул с классом
		}
		function start_el(&$output, $item, $depth = 0, $args = array(), $id = 0) { // старт вывода элементов
			$item_html = ''; // то что будет добавлять
			parent::start_el($item_html, $item, $depth, $args); // вызываем стандартный метод родителя
			if ( $item->is_dropdown && $depth === 0 ) { // если элемент содержит подменю и это элемент первого уровня
			   if (!$this->open_submenu_on_hover) $item_html = str_replace('<a', '<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"', $item_html); // если подменю не будет раскрывать при наведении надо добавить стандартные атрибуты бутстрапа для раскрытия по клику
			   $item_html = str_replace('</a>', ' <b class="caret"></b></a>', $item_html); // ну это стрелочка вниз
			}
			$output .= $item_html; // приклеиваем теперь
		}
		function display_element($element, &$children_elements, $max_depth, $depth = 0, $args, &$output) { // вывод элемента
			if ( $element->current ) $element->classes[] = 'active'; // если элемент активный надо добавить бутстрап класс для подсветки
			$element->is_dropdown = !empty( $children_elements[$element->ID] ); // если у элемента подменю
			if ( $element->is_dropdown ) { // если да
			    if ( $depth === 0 ) { // если li содержит субменю 1 уровня
			        $element->classes[] = 'dropdown'; // то добавим этот класс
			        if ($this->open_submenu_on_hover) $element->classes[] = 'show-on-hover'; // если нужно показывать субменю по хуверу
			    } elseif ( $depth === 1 ) { // если li содержит субменю 2 уровня
			        $element->classes[] = 'dropdown-submenu'; // то добавим этот класс, стандартный бутстрап не поддерживает подменю больше 2 уровня по этому эту ситуацию надо будет разрешать отдельно
			    }
			}
			parent::display_element($element, $children_elements, $max_depth, $depth, $args, $output); // вызываем стандартный метод родителя
		}
	}
}

?>
